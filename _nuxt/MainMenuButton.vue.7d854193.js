import{w as Z,a as k,r as C,b as L,p as V,e as B,f as K,j as q,l as w,y as O,o as R,z as T,v as x,x as H,t as b,q as y,u as M,I as W,C as z}from"./entry.6edba235.js";import{_ as Q}from"./nuxt-link.ecfb89cc.js";import{u as J}from"./app.1d1f3903.js";import{o as m,c as X,u as Y,l as P,H as D,t as A,p as G,N as $,a as f}from"./open-closed.ae49d5b9.js";import{u as ee,x as te,a as I}from"./use-tracked-pointer.6f07f908.js";import{m as ae,y as ne,w as oe,h as se,v as le,N as F,_ as U,O as re}from"./use-outside-click.461443a9.js";import{b as ie}from"./use-resolve-button-type.164e2760.js";function ue({container:a,accept:d,walk:_,enabled:p}){Z(()=>{let e=a.value;if(!e||p!==void 0&&!p.value)return;let c=ae(a);if(!c)return;let i=Object.assign(o=>d(o),{acceptNode:d}),v=c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,i,!1);for(;v.nextNode();)_(v.currentNode)})}var ce=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(ce||{}),de=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(de||{});function ve(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let j=Symbol("MenuContext");function N(a){let d=q(j,null);if(d===null){let _=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(_,N),_}return d}let pe=k({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:d,attrs:_}){let p=C(1),e=C(null),c=C(null),i=C([]),v=C(""),o=C(null),s=C(1);function t(l=u=>u){let u=o.value!==null?i.value[o.value]:null,n=re(l(i.value.slice()),g=>m(g.dataRef.domRef)),r=u?n.indexOf(u):null;return r===-1&&(r=null),{items:n,activeItemIndex:r}}let h={menuState:p,buttonRef:e,itemsRef:c,items:i,searchQuery:v,activeItemIndex:o,activationTrigger:s,closeMenu:()=>{p.value=1,o.value=null},openMenu:()=>p.value=0,goToItem(l,u,n){let r=t(),g=te(l===I.Specific?{focus:I.Specific,id:u}:{focus:l},{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:S=>S.id,resolveDisabled:S=>S.dataRef.disabled});v.value="",o.value=g,s.value=n??1,i.value=r.items},search(l){let u=v.value!==""?0:1;v.value+=l.toLowerCase();let n=(o.value!==null?i.value.slice(o.value+u).concat(i.value.slice(0,o.value+u)):i.value).find(g=>g.dataRef.textValue.startsWith(v.value)&&!g.dataRef.disabled),r=n?i.value.indexOf(n):-1;r===-1||r===o.value||(o.value=r,s.value=1)},clearSearch(){v.value=""},registerItem(l,u){let n=t(r=>[...r,{id:l,dataRef:u}]);i.value=n.items,o.value=n.activeItemIndex,s.value=1},unregisterItem(l){let u=t(n=>{let r=n.findIndex(g=>g.id===l);return r!==-1&&n.splice(r,1),n});i.value=u.items,o.value=u.activeItemIndex,s.value=1}};return ne([e,c],(l,u)=>{var n;h.closeMenu(),oe(u,se.Loose)||(l.preventDefault(),(n=m(e))==null||n.focus())},L(()=>p.value===0)),V(j,h),X(L(()=>Y(p.value,{[0]:P.Open,[1]:P.Closed}))),()=>{let l={open:p.value===0,close:h.closeMenu};return D({ourProps:{},theirProps:a,slot:l,slots:d,attrs:_,name:"Menu"})}}}),fe=k({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${A()}`}},setup(a,{attrs:d,slots:_,expose:p}){let e=N("MenuButton");p({el:e.buttonRef,$el:e.buttonRef});function c(s){switch(s.key){case f.Space:case f.Enter:case f.ArrowDown:s.preventDefault(),s.stopPropagation(),e.openMenu(),w(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.First)});break;case f.ArrowUp:s.preventDefault(),s.stopPropagation(),e.openMenu(),w(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(I.Last)});break}}function i(s){switch(s.key){case f.Space:s.preventDefault();break}}function v(s){a.disabled||(e.menuState.value===0?(e.closeMenu(),w(()=>{var t;return(t=m(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(s.preventDefault(),e.openMenu(),ve(()=>{var t;return(t=m(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let o=ie(L(()=>({as:a.as,type:d.type})),e.buttonRef);return()=>{var s;let t={open:e.menuState.value===0},{id:h,...l}=a,u={ref:e.buttonRef,id:h,type:o.value,"aria-haspopup":"menu","aria-controls":(s=m(e.itemsRef))==null?void 0:s.id,"aria-expanded":a.disabled?void 0:e.menuState.value===0,onKeydown:c,onKeyup:i,onClick:v};return D({ourProps:u,theirProps:l,slot:t,attrs:d,slots:_,name:"MenuButton"})}}}),me=k({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${A()}`}},setup(a,{attrs:d,slots:_,expose:p}){let e=N("MenuItems"),c=C(null);p({el:e.itemsRef,$el:e.itemsRef}),ue({container:L(()=>m(e.itemsRef)),enabled:L(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function i(t){var h;switch(c.value&&clearTimeout(c.value),t.key){case f.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case f.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let l=e.items.value[e.activeItemIndex.value];(h=m(l.dataRef.domRef))==null||h.click()}e.closeMenu(),U(m(e.buttonRef));break;case f.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Next);case f.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Previous);case f.Home:case f.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.First);case f.End:case f.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(I.Last);case f.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),w(()=>{var l;return(l=m(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case f.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),w(()=>le(m(e.buttonRef),t.shiftKey?F.Previous:F.Next));break;default:t.key.length===1&&(e.search(t.key),c.value=setTimeout(()=>e.clearSearch(),350));break}}function v(t){switch(t.key){case f.Space:t.preventDefault();break}}let o=G(),s=L(()=>o!==null?(o.value&P.Open)===P.Open:e.menuState.value===0);return()=>{var t,h;let l={open:e.menuState.value===0},{id:u,...n}=a,r={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(h=m(e.buttonRef))==null?void 0:h.id,id:u,onKeydown:i,onKeyup:v,role:"menu",tabIndex:0,ref:e.itemsRef};return D({ourProps:r,theirProps:n,slot:l,attrs:d,slots:_,features:$.RenderStrategy|$.Static,visible:s.value,name:"MenuItems"})}}}),E=k({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${A()}`}},setup(a,{slots:d,attrs:_,expose:p}){let e=N("MenuItem"),c=C(null);p({el:c,$el:c});let i=L(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===a.id:!1),v=L(()=>({disabled:a.disabled,textValue:"",domRef:c}));B(()=>{var n,r;let g=(r=(n=m(c))==null?void 0:n.textContent)==null?void 0:r.toLowerCase().trim();g!==void 0&&(v.value.textValue=g)}),B(()=>e.registerItem(a.id,v)),K(()=>e.unregisterItem(a.id)),Z(()=>{e.menuState.value===0&&i.value&&e.activationTrigger.value!==0&&w(()=>{var n,r;return(r=(n=m(c))==null?void 0:n.scrollIntoView)==null?void 0:r.call(n,{block:"nearest"})})});function o(n){if(a.disabled)return n.preventDefault();e.closeMenu(),U(m(e.buttonRef))}function s(){if(a.disabled)return e.goToItem(I.Nothing);e.goToItem(I.Specific,a.id)}let t=ee();function h(n){t.update(n)}function l(n){t.wasMoved(n)&&(a.disabled||i.value||e.goToItem(I.Specific,a.id,0))}function u(n){t.wasMoved(n)&&(a.disabled||i.value&&e.goToItem(I.Nothing))}return()=>{let{disabled:n}=a,r={active:i.value,disabled:n,close:e.closeMenu},{id:g,...S}=a;return D({ourProps:{id:g,ref:c,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:o,onFocus:s,onPointerenter:h,onMouseenter:h,onPointermove:l,onMousemove:l,onPointerleave:u,onMouseleave:u},theirProps:{..._,...S},slot:r,attrs:_,slots:d,name:"MenuItem"})}}});const _e={},he={width:"100%",height:"100%",viewBox:"0 0 48 48",fill:"currentColor"},ge=x("path",{d:"M6,36L6,33L42,33L42,36L6,36ZM6,25.5L6,22.5L42,22.5L42,25.5L6,25.5ZM6,15L6,12L42,12L42,15L6,15Z"},null,-1),be=[ge];function xe(a,d){return R(),T("svg",he,be)}const Ie=O(_e,[["render",xe]]),ye={},Ce={width:"100%",height:"100%",viewBox:"0 0 48 48",fill:"currentColor"},Me=x("path",{d:"M24,5.451C27.421,5.451 30.199,8.229 30.199,11.65C30.199,15.071 27.421,17.848 24,17.848C20.579,17.848 17.801,15.071 17.801,11.65C17.801,8.229 20.579,5.451 24,5.451ZM24,19.877C29.843,19.877 34.587,24.621 34.587,30.464L34.587,42.549L13.413,42.549L13.413,30.464C13.413,24.621 18.157,19.877 24,19.877ZM10.413,37.381L2.318,37.381L2.318,27.446C2.318,22.642 6.218,18.742 11.022,18.742C12.625,18.742 14.128,19.176 15.418,19.933C12.364,22.426 10.413,26.219 10.413,30.464L10.413,37.381ZM32.582,19.933C33.872,19.176 35.375,18.742 36.978,18.742C41.782,18.742 45.682,22.642 45.682,27.446L45.682,37.381L37.587,37.381L37.587,30.464C37.587,26.219 35.636,22.426 32.582,19.933ZM11.022,6.881C13.834,6.881 16.118,9.165 16.118,11.977C16.118,14.79 13.834,17.074 11.022,17.074C8.209,17.074 5.925,14.79 5.925,11.977C5.925,9.165 8.209,6.881 11.022,6.881ZM36.978,6.881C39.791,6.881 42.075,9.165 42.075,11.977C42.075,14.79 39.791,17.074 36.978,17.074C34.166,17.074 31.882,14.79 31.882,11.977C31.882,9.165 34.166,6.881 36.978,6.881Z"},null,-1);function Le(a,d){return R(),T("svg",Ce,[Me,H(" /> ")])}const we=O(ye,[["render",Le]]),Se={},ke={width:"100%",height:"100%",viewBox:"0 0 48 48",fill:"currentColor"},Pe=x("path",{d:"M9,42C8.2,42 7.5,41.7 6.9,41.1C6.3,40.5 6,39.8 6,39L6,9C6,8.2 6.3,7.5 6.9,6.9C7.5,6.3 8.2,6 9,6L23.55,6L23.55,9L9,9L9,39L23.55,39L23.55,42L9,42ZM33.3,32.75L31.15,30.6L36.25,25.5L18.75,25.5L18.75,22.5L36.15,22.5L31.05,17.4L33.2,15.25L42,24.05L33.3,32.75Z"},null,-1),Re=[Pe];function Te(a,d){return R(),T("svg",ke,Re)}const De=O(Se,[["render",Te]]),Ne={class:"p-1 overflow-hidden"},Ee=x("div",{class:"text-xs text-gray-400"},"Signed in as",-1),Oe={class:"text-sm font-semibold truncate"},Ae=x("hr",{class:"my-2 border-gray-600"},null,-1),Be={class:"p-1 inline-flex items-center gap-2"},$e=x("div",{class:"text-sm"},"Manage Users",-1),Fe=x("hr",{class:"my-2 border-gray-600"},null,-1),Ze={class:"p-1 inline-flex items-center gap-2"},Ue=x("div",{class:"text-sm"},"Sign Out",-1),Qe=k({__name:"MainMenuButton",setup(a){const d=J();return(_,p)=>{const e=Ie,c=Q,i=we,v=De;return R(),T("div",null,[b(M(pe),{as:"div",class:"relative align-left"},{default:y(({close:o})=>[b(M(fe),{class:"relative rounded-full h-10 w-10 hover:text-white hover:bg-gray-600 active:bg-gray-500"},{default:y(()=>[b(e,{class:"w-6 h-6 mx-auto"})]),_:1}),b(W,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:y(()=>[b(M(me),{class:"absolute right-0 z-10 w-64 origin-top-right bg-gray-700 border rounded shadow border-gray-600 py-2"},{default:y(()=>[b(M(E),{as:"div",onClickPassive:o},{default:y(({active:s})=>[b(c,{to:"/user/"+M(d).currentUser.id,onClickPassive:t=>o-!0,class:"hover:bg-gray-600 hover:text-white active:bg-blue-500 px-4 flex w-full"},{default:y(()=>[x("div",Ne,[Ee,x("div",Oe,z(M(d).currentUser.email),1)])]),_:2},1032,["to","onClickPassive"])]),_:2},1032,["onClickPassive"]),Ae,b(M(E),{as:"div"},{default:y(({active:s})=>[b(c,{to:"/users",onClick:o,class:"hover:bg-gray-600 hover:text-white active:bg-blue-500 px-4 flex w-full"},{default:y(()=>[x("div",Be,[b(i,{class:"w-5 h-5"}),$e])]),_:2},1032,["onClick"])]),_:2},1024),Fe,b(M(E),{as:"div"},{default:y(({active:s})=>[b(c,{to:"/",onClickPassive:o,class:"hover:bg-gray-600 hover:text-white active:bg-blue-500 px-4 flex w-full"},{default:y(()=>[x("div",Ze,[b(v,{class:"w-5 h-5"}),Ue])]),_:2},1032,["onClickPassive"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1})])}}});export{Qe as _};
