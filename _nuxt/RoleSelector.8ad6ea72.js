import{a as j,r as w,i as x,I as R,p as le,j as N,J,K as q,F as Z,k as oe,w as ne,L as D,l as ie,m as se,o as F,e as E,h as I,f as T,t as C,u as M,z as U,T as re,y as ue,x as Q,s as de}from"./entry.ab0ca42c.js";import{_ as ve}from"./CheckMark.c299417e.js";import{H as A,u as P,o as g,c as pe,l as z,K as ce,T as fe,t as K,b as be,p as me,N as W,a as m}from"./use-resolve-button-type.b8776773.js";import{x as xe,a as S,y as ge,w as he,h as ye,u as Se,O as Oe}from"./use-tracked-pointer.2e375be3.js";var G=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(G||{});let we=j({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:i,attrs:n}){return()=>{let{features:c,...e}=t,v={"aria-hidden":(c&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(c&4)===4&&(c&2)!==2&&{display:"none"}}};return A({ourProps:v,theirProps:e,slot:{},attrs:n,slots:i,name:"Hidden"})}}});function X(t={},i=null,n=[]){for(let[c,e]of Object.entries(t))ee(n,Y(i,c),e);return n}function Y(t,i){return t?t+"["+i+"]":i}function ee(t,i,n){if(Array.isArray(n))for(let[c,e]of n.entries())ee(t,Y(i,c.toString()),e);else n instanceof Date?t.push([i,n.toISOString()]):typeof n=="boolean"?t.push([i,n?"1":"0"]):typeof n=="string"?t.push([i,n]):typeof n=="number"?t.push([i,`${n}`]):n==null?t.push([i,""]):X(n,i,t)}function _e(t,i,n){let c=w(n==null?void 0:n.value),e=x(()=>t.value!==void 0);return[x(()=>e.value?t.value:c.value),function(v){return e.value||(c.value=v),i==null?void 0:i(v)}]}function Le(t,i){return t===i}var Re=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Re||{}),ke=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(ke||{}),Pe=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Pe||{});function Te(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let te=Symbol("ListboxContext");function H(t){let i=ie(te,null);if(i===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,H),n}return i}let Ie=j({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Le},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:i,attrs:n,emit:c}){let e=w(1),v=w(null),h=w(null),p=w(null),f=w([]),a=w(""),l=w(null),_=w(1);function O(o=s=>s){let s=l.value!==null?f.value[l.value]:null,u=Oe(o(f.value.slice()),y=>g(y.dataRef.domRef)),d=s?u.indexOf(s):null;return d===-1&&(d=null),{options:u,activeOptionIndex:d}}let k=x(()=>t.multiple?1:0),[L,V]=_e(x(()=>t.modelValue===void 0?P(k.value,{[1]:[],[0]:void 0}):t.modelValue),o=>c("update:modelValue",o),x(()=>t.defaultValue)),r={listboxState:e,value:L,mode:k,compare(o,s){if(typeof t.by=="string"){let u=t.by;return(o==null?void 0:o[u])===(s==null?void 0:s[u])}return t.by(o,s)},orientation:x(()=>t.horizontal?"horizontal":"vertical"),labelRef:v,buttonRef:h,optionsRef:p,disabled:x(()=>t.disabled),options:f,searchQuery:a,activeOptionIndex:l,activationTrigger:_,closeListbox(){t.disabled||e.value!==1&&(e.value=1,l.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(o,s,u){if(t.disabled||e.value===1)return;let d=O(),y=xe(o===S.Specific?{focus:S.Specific,id:s}:{focus:o},{resolveItems:()=>d.options,resolveActiveIndex:()=>d.activeOptionIndex,resolveId:B=>B.id,resolveDisabled:B=>B.dataRef.disabled});a.value="",l.value=y,_.value=u??1,f.value=d.options},search(o){if(t.disabled||e.value===1)return;let s=a.value!==""?0:1;a.value+=o.toLowerCase();let u=(l.value!==null?f.value.slice(l.value+s).concat(f.value.slice(0,l.value+s)):f.value).find(y=>y.dataRef.textValue.startsWith(a.value)&&!y.dataRef.disabled),d=u?f.value.indexOf(u):-1;d===-1||d===l.value||(l.value=d,_.value=1)},clearSearch(){t.disabled||e.value!==1&&a.value!==""&&(a.value="")},registerOption(o,s){let u=O(d=>[...d,{id:o,dataRef:s}]);f.value=u.options,l.value=u.activeOptionIndex},unregisterOption(o){let s=O(u=>{let d=u.findIndex(y=>y.id===o);return d!==-1&&u.splice(d,1),u});f.value=s.options,l.value=s.activeOptionIndex,_.value=1},select(o){t.disabled||V(P(k.value,{[0]:()=>o,[1]:()=>{let s=R(r.value.value).slice(),u=R(o),d=s.findIndex(y=>r.compare(u,R(y)));return d===-1?s.push(u):s.splice(d,1),s}}))}};ge([h,p],(o,s)=>{var u;r.closeListbox(),he(s,ye.Loose)||(o.preventDefault(),(u=g(h))==null||u.focus())},x(()=>e.value===0)),le(te,r),pe(x(()=>P(e.value,{[0]:z.Open,[1]:z.Closed})));let b=x(()=>{var o;return(o=g(h))==null?void 0:o.closest("form")});return N(()=>{J([b],()=>{if(!b.value||t.defaultValue===void 0)return;function o(){r.select(t.defaultValue)}return b.value.addEventListener("reset",o),()=>{var s;(s=b.value)==null||s.removeEventListener("reset",o)}},{immediate:!0})}),()=>{let{name:o,modelValue:s,disabled:u,form:d,...y}=t,B={open:e.value===0,disabled:u,value:L.value};return q(Z,[...o!=null&&L.value!=null?X({[o]:L.value}).map(([$,ae])=>q(we,ce({features:G.Hidden,key:$,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:d,name:$,value:ae}))):[],A({ourProps:{},theirProps:{...n,...fe(y,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:B,slots:i,attrs:n,name:"Listbox"})])}}}),De=j({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${K()}`}},setup(t,{attrs:i,slots:n,expose:c}){let e=H("ListboxButton");c({el:e.buttonRef,$el:e.buttonRef});function v(a){switch(a.key){case m.Space:case m.Enter:case m.ArrowDown:a.preventDefault(),e.openListbox(),D(()=>{var l;(l=g(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(S.First)});break;case m.ArrowUp:a.preventDefault(),e.openListbox(),D(()=>{var l;(l=g(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(S.Last)});break}}function h(a){switch(a.key){case m.Space:a.preventDefault();break}}function p(a){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),D(()=>{var l;return(l=g(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})})):(a.preventDefault(),e.openListbox(),Te(()=>{var l;return(l=g(e.optionsRef))==null?void 0:l.focus({preventScroll:!0})})))}let f=be(x(()=>({as:t.as,type:i.type})),e.buttonRef);return()=>{var a,l;let _={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},{id:O,...k}=t,L={ref:e.buttonRef,id:O,type:f.value,"aria-haspopup":"listbox","aria-controls":(a=g(e.optionsRef))==null?void 0:a.id,"aria-expanded":e.disabled.value?void 0:e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(l=g(e.labelRef))==null?void 0:l.id,O].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:v,onKeyup:h,onClick:p};return A({ourProps:L,theirProps:k,slot:_,attrs:i,slots:n,name:"ListboxButton"})}}}),Ve=j({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${K()}`}},setup(t,{attrs:i,slots:n,expose:c}){let e=H("ListboxOptions"),v=w(null);c({el:e.optionsRef,$el:e.optionsRef});function h(a){switch(v.value&&clearTimeout(v.value),a.key){case m.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case m.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeOptionIndex.value!==null){let l=e.options.value[e.activeOptionIndex.value];e.select(l.dataRef.value)}e.mode.value===0&&(e.closeListbox(),D(()=>{var l;return(l=g(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})}));break;case P(e.orientation.value,{vertical:m.ArrowDown,horizontal:m.ArrowRight}):return a.preventDefault(),a.stopPropagation(),e.goToOption(S.Next);case P(e.orientation.value,{vertical:m.ArrowUp,horizontal:m.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),e.goToOption(S.Previous);case m.Home:case m.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToOption(S.First);case m.End:case m.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToOption(S.Last);case m.Escape:a.preventDefault(),a.stopPropagation(),e.closeListbox(),D(()=>{var l;return(l=g(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case m.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(e.search(a.key),v.value=setTimeout(()=>e.clearSearch(),350));break}}let p=me(),f=x(()=>p!==null?(p.value&z.Open)===z.Open:e.listboxState.value===0);return()=>{var a,l,_,O;let k={open:e.listboxState.value===0},{id:L,...V}=t,r={"aria-activedescendant":e.activeOptionIndex.value===null||(a=e.options.value[e.activeOptionIndex.value])==null?void 0:a.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(O=(l=g(e.labelRef))==null?void 0:l.id)!=null?O:(_=g(e.buttonRef))==null?void 0:_.id,"aria-orientation":e.orientation.value,id:L,onKeydown:h,role:"listbox",tabIndex:0,ref:e.optionsRef};return A({ourProps:r,theirProps:V,slot:k,attrs:i,slots:n,features:W.RenderStrategy|W.Static,visible:f.value,name:"ListboxOptions"})}}}),Be=j({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${K()}`}},setup(t,{slots:i,attrs:n,expose:c}){let e=H("ListboxOption"),v=w(null);c({el:v,$el:v});let h=x(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===t.id:!1),p=x(()=>P(e.mode.value,{[0]:()=>e.compare(R(e.value.value),R(t.value)),[1]:()=>R(e.value.value).some(r=>e.compare(R(r),R(t.value)))})),f=x(()=>P(e.mode.value,{[1]:()=>{var r;let b=R(e.value.value);return((r=e.options.value.find(o=>b.some(s=>e.compare(R(s),R(o.dataRef.value)))))==null?void 0:r.id)===t.id},[0]:()=>p.value})),a=x(()=>({disabled:t.disabled,value:t.value,textValue:"",domRef:v}));N(()=>{var r,b;let o=(b=(r=g(v))==null?void 0:r.textContent)==null?void 0:b.toLowerCase().trim();o!==void 0&&(a.value.textValue=o)}),N(()=>e.registerOption(t.id,a)),oe(()=>e.unregisterOption(t.id)),N(()=>{J([e.listboxState,p],()=>{e.listboxState.value===0&&p.value&&P(e.mode.value,{[1]:()=>{f.value&&e.goToOption(S.Specific,t.id)},[0]:()=>{e.goToOption(S.Specific,t.id)}})},{immediate:!0})}),ne(()=>{e.listboxState.value===0&&h.value&&e.activationTrigger.value!==0&&D(()=>{var r,b;return(b=(r=g(v))==null?void 0:r.scrollIntoView)==null?void 0:b.call(r,{block:"nearest"})})});function l(r){if(t.disabled)return r.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),D(()=>{var b;return(b=g(e.buttonRef))==null?void 0:b.focus({preventScroll:!0})}))}function _(){if(t.disabled)return e.goToOption(S.Nothing);e.goToOption(S.Specific,t.id)}let O=Se();function k(r){O.update(r)}function L(r){O.wasMoved(r)&&(t.disabled||h.value||e.goToOption(S.Specific,t.id,0))}function V(r){O.wasMoved(r)&&(t.disabled||h.value&&e.goToOption(S.Nothing))}return()=>{let{disabled:r}=t,b={active:h.value,selected:p.value,disabled:r},{id:o,value:s,disabled:u,...d}=t,y={id:o,ref:v,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":p.value,disabled:void 0,onClick:l,onFocus:_,onPointerenter:k,onMouseenter:k,onPointermove:L,onMousemove:L,onPointerleave:V,onMouseleave:V};return A({ourProps:y,theirProps:d,slot:b,attrs:n,slots:i,name:"ListboxOption"})}}});const Ce={},je={width:"100%",height:"100%",viewBox:"0 0 48 48",fill:"currentColor"},Ae=I("path",{d:"M24,30.8L12,18.8L14.15,16.65L24,26.5L33.85,16.65L36,18.8L24,30.8Z"},null,-1),Me=[Ae];function Ne(t,i){return F(),E("svg",je,Me)}const Fe=se(Ce,[["render",Ne]]),Ee={class:"relative"},ze={class:"relative mt-1"},He={class:"block truncate"},Ue={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Ke={class:"text-xs text-gray-400"},$e={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-500"},Ze={__name:"RoleSelector",setup(t){const i=[{name:"admin",description:"Full control of everything."},{name:"artist",description:"Can view and use assets"},{name:"manager",description:"Can view, edit, add and remove assets"}],n=w(i[0]);return(c,e)=>{const v=Fe,h=ve;return F(),E("div",Ee,[T(M(Ie),{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=p=>n.value=p)},{default:C(()=>[I("div",ze,[T(M(De),{class:"relative w-40 bg-gray-700 grow-0 shrink-0 rounded-lg py-2 pl-3 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:C(()=>[I("span",He,U(n.value.name),1),I("span",Ue,[T(v,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),T(re,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:C(()=>[T(M(Ve),{class:"z-40 bg-gray-700 absolute max-h-60 w-60 overflow-auto rounded-md py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:C(()=>[(F(),E(Z,null,ue(i,p=>T(M(Be),{key:p.name,value:p,as:"template"},{default:C(({active:f,selected:a})=>[I("li",{class:Q([f?"bg-gray-600 text-white":"","relative cursor-pointer select-none py-2 pl-10 pr-4"])},[I("span",{class:Q([a?"font-medium":"font-normal","block truncate text-white"])},U(p.name),3),I("span",Ke,U(p.description),1),a?(F(),E("span",$e,[T(h,{class:"h-5 w-5"})])):de("",!0)],2)]),_:2},1032,["value"])),64))]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}};export{Ze as _};
